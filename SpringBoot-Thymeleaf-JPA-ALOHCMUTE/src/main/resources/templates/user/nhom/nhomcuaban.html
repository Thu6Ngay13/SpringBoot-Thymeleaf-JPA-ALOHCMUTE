<html xmlns:th "http://www.thymeleaf.org" xmlns:layout="http://ww.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{user/layout-user.html}">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
	<meta name="generator" content="Hugo 0.84.0">
	<title>Nhóm của bạn</title>

	<link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/blog/">



	<!-- Bootstrap core CSS -->
	<link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">

	<style>
		.bd-placeholder-img {
			font-size: 1.125rem;
			text-anchor: middle;
			-webkit-user-select: none;
			-moz-user-select: none;
			user-select: none;
		}

		@media (min-width: 768px) {
			.bd-placeholder-img-lg {
				font-size: 3.5rem;
			}
		}

		.buttonXem {
			border-radius: 10px;
			background-color: #1673FD;
			color: white;
			border: none;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 18px;
			height: 45px;
			width: 210px;
		}
	</style>


	<!-- Custom styles for this template -->
	<link href="https://fonts.googleapis.com/css?family=Playfair&#43;Display:700,900&amp;display=swap" rel="stylesheet">
	<!-- Custom styles for this template -->
	<link href="blog.css" rel="stylesheet">
	<style>
		body {
			margin-top: 7%;
			padding: 0;
			box-sizing: border-box;
			background-color: aliceblue;
			overflow-x: hidden;
		}
	</style>

</head>

<body>


	<section layout:fragment="content">
		<main class="container" style="margin-left: 240px;">
			<div class="tab" style="margin-left: -15px; margin-top: 1px;">
				<button class="tablinks" onclick="openTab(event, 'TimKiem')" id="tk">Tìm kiếm nhóm</button>
				<button class="tablinks" onclick="openTab(event, 'NhomCuaBan')">Nhóm của bạn</button>
			</div>
			<div class="tabcontent" id="TimKiem">
				<br>
				<form action="#" th:action="@{/user/group/searchgroup}" method="get" id="searchgroup">
					<div class="header__input" style="margin-top: 10px; width: 985px; margin-left: -5px;">
						<span class="material-icons"> search </span>
						<input type="text" placeholder="Tìm kiếm nhóm" size="50" name="groupName" />
						
					</div>
				</form>
				<div th:unless="${tenGroup==null}">
					<br>
					<h3 th:text="'Kết quả tìm kiếm cho &quot;'+${tenGroup}+'&quot;'" style="margin-bottom: 30px;"></h3>
				</div>
				<div th:if="${empty} and ${tenGroup!=null}">
					<i>Rất tiếc, không tìm thấy nhóm phù hợp với yêu cầu của bạn</i>
				</div>
				<div class="row mb-2" th:unless=${List_Nhom_TimKiem==null}>

					<div class=" col-md-6" th:each="key: ${List_Nhom_TimKiem.keySet()}" style="width: 500px;">
						<div
							class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
							<div class="col p-4 d-flex flex-column position-static">
								<img src="https://img.vn/uploads/thuvien/img-renderacc-aeon-1-jpeg-20230926175923hJd6oSpnqQ.jpeg"
									width="100%" height="50%"></img>




								<strong class="d-inline-block mb-2 text-primary">Nhóm</strong>
								<h3 th:text="${key.tenNhom}" style="margin-bottom: 10px;"></h3>
								<div th:text="'Thành lập từ: '+ ${#temporals.format(key.ngayThanhLap, 'dd-MM-yyyy')}"
									class="mb-1 text-muted"></div>
								<p th:text="${'Chế độ: '+key.cheDoNhom.tenCheDo}" class="card-text mb-auto"></p>
								<p th:text="${'Trưởng nhóm: '+key.taiKhoanTruongNhom.taiKhoan}" class="card-text mb-auto"></p>
								<div class="button-container">
									<form action="#" th:action="@{/user/group/viewgroup}" method="get">
										<input type="hidden" name="groupID" th:value="${key.maNhom}" />
										<div
											th:if="${key.cheDoNhom.tenCheDo!='Private'} or ${List_Nhom_TimKiem.get(key)==2}">
											<button type="submit" class="buttonXem"> Xem nhóm</button>
										</div>
										<div
											th:if="${key.cheDoNhom.tenCheDo=='Private'} and ${List_Nhom_TimKiem.get(key)!=2}">
											<button type="submit" class="buttonXem" style="background-color: darkgray;"
												disabled> Xem nhóm</button>
										</div>

									</form>
									<form action="#" th:action="@{/user/group/joingroup}" method="get">
										<input type="hidden" name="groupID" th:value="${key.maNhom}" />
										<div th:if="${List_Nhom_TimKiem.get(key)==2}">
											<button type="submit" class="buttonXem"
												style="background-color: rgb(128, 255, 147);" disabled> ✔Đã tham
												gia</button>
										</div>
										<div th:if="${List_Nhom_TimKiem.get(key)}==0">
											<button type="submit" class="buttonXem"> Tham gia nhóm</button>
										</div>
										<div th:if="${List_Nhom_TimKiem.get(key)}==1">
											<button type="submit" class="buttonXem" style="background-color: khaki; "disabled> Chờ xét duyệt</button>
										</div>
									</form>
								</div>
							</div>


						</div>
					</div>
				</div>
			</div>
			<div class="tabcontent" id="NhomCuaBan">
				<br>
				<h3 style="margin-bottom: 20px; margin-top: 20px;">Nhóm bạn đã tham gia / yêu cầu tham gia</h3>

				<div class="row mb-2">
					<div class=" col-md-6" th:each="key: ${List_Nhom.keySet()}" style="width: 500px;">
						<div
							class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
							<div class="col p-4 d-flex flex-column position-static">
								<img src="https://img.vn/uploads/thuvien/img-renderacc-aeon-1-jpeg-20230926175923hJd6oSpnqQ.jpeg"
									width="100%" height="50%"></img>




								<strong class="d-inline-block mb-2 text-primary">Nhóm</strong>
								<h3 th:text="${key.tenNhom}" style="margin-bottom: 10px;"></h3>
								<div th:text="'Thành lập từ: '+ ${#temporals.format(key.ngayThanhLap, 'dd-MM-yyyy')}"
									class="mb-1 text-muted"></div>
								<p th:text="${'Chế độ: '+key.cheDoNhom.tenCheDo}" class="card-text mb-auto"></p>
								<p th:text="${'Trưởng nhóm: '+key.taiKhoanTruongNhom.taiKhoan}" class="card-text mb-auto"></p>
								<div class="button-container">
									<form action="#" th:action="@{/user/group/viewgroup}" method="get">
										<input type="hidden" name="groupID" th:value="${key.maNhom}" />
										<div th:if="${key.cheDoNhom.tenCheDo!='Private'} or ${List_Nhom.get(key)}">
											<button type="submit" class="buttonXem"> Xem nhóm</button>
										</div>
										<div th:if="${key.cheDoNhom.tenCheDo=='Private'} and ${!List_Nhom.get(key)}">
											<button type="submit" class="buttonXem" style="background-color: darkgray;"
												disabled> Xem nhóm</button>
										</div>

									</form>
									<form action="#" th:action="@{/user/group/outgroup}" method="get">
										<input type="hidden" name="groupID" th:value="${key.maNhom}" />
										<div th:if="${List_Nhom.get(key)}">
											<button type="submit" class="buttonXem" style="background-color: crimson;">
												Rời nhóm</button>
										</div>
										<div th:unless="${List_Nhom.get(key)}">
											<button type="submit" class="buttonXem" style="background-color: khaki;"
												disabled> Chờ xét duyệt</button>
										</div>
									</form>
								</div>
							</div>

						</div>
					</div>
				</div>
			</div>

		</main>
		<script>
			function openTab(evt, TenNut) {
				var i, tabcontent, tablinks;
				tabcontent = document.getElementsByClassName("tabcontent");
				for (i = 0; i < tabcontent.length; i++) {
					tabcontent[i].style.display = "none";
				}
				tablinks = document.getElementsByClassName("tablinks");
				for (i = 0; i < tablinks.length; i++) {
					tablinks[i].className = tablinks[i].className.replace(" active", "");
				}
				document.getElementById(TenNut).style.display = "block";
				evt.currentTarget.className += " active";
			}
		</script>
		<script>
			document.addEventListener("DOMContentLoaded", function () {
				document.getElementById("tk").click();
			});
		</script>

		<script th:inline="javascript">
			/*<![CDATA[*/
			function handleEnterKey(event) {
				if (event.keyCode === 13) {
					event.preventDefault();
					submitForm();
				}
			}

			function submitForm() {
				document.getElementById('searchgroup').submit();
			}
        /*]]>*/
		</script>

	</section>
</body>

</html>